!function(t,n,e,a,i,o,r,c){e=util.parseInt(e),a=util.parseInt(a);var l=function(t){var n=Math.floor(t/60),e=t-60*n;return n<10&&(n="0"+n),e<10&&(e="0"+e),n+":"+e},s=function(t,n,a){if(3===t){for(var i=0,o=0,r="",c=1;c<=3;c++)n[c]&&(i+=util.parseInt(n[c].score),o+=util.parseInt(n[c].time),r+="Bài: "+c+"- Điểm: "+n[c].score+" - Thời gian: "+l(n[c].time)+"<br/>");r="Tỗng điểm: "+i+"<br/>"+r,r="Tổng thời gian: "+l(o)+"<br/>"+r;var s={};i>150?(s.next={label:"Thi tiếp",className:"btn-warning",callback:function(){window.location.href="../vong-"+(util.parseInt(e)+1)+"/bai-1.html"}},r+="(Bạn được thi vòng tiếp theo)"):(s.rePlay={label:"Thi lại",className:"btn-warning",callback:function(){window.location.href="bai-1.html"}},r+="(Bạn chưa qua vòng này)"),s.exit={label:"Thoát",className:"btn-warning",callback:function(){window.location.href="../.."}},util.DelLocalStore(a),bootbox.dialog({title:"Kết quả vòng thi",message:r,buttons:s})}},u=function(t,n){var i=c.SHA256("{{{type_id}}}-"+e+"-{{{user_id}}}").toString(),o=util.ReadLocalStore(i,{});(o=util.parseJson(o)||{})[a]={score:t,time:n},util.SaveLocalStore(i,o),setTimeout(function(){s(a,o,i)},1e3)},h=parseInt(t.substring(t.length-2)),g=t.substring(0,h),m=JSON.parse(c.AES.decrypt(t.substring(h,t.length-2),"MVT2017"+g).toString(c.enc.Utf8));if(m){var f=[],p=[];util.randomArray(m.content,m.play).forEach(function(t,n){var e=t.length,a=[];t.forEach(function(t,n){a.push(n)});var i=util.randomListArray(t,a,e);f.push(i.list_1),p.push(i.list_2)});var d={currentScore:0,wrongCount:0,time:m.time,time_left:m.time,play:m.play,score:0,game_id:7,addScore:10,life:3,count_win:10,game_name:"Hổ con",content:f,answereds:[]};!function(t,n,e){new(0,IGame.core)({container:t,baseUrl:n+"/game/HC/assets/",states:[{name:"Boot",state:TVUB.Boot},{name:"Preload",state:TVUB.Preload},{name:"Home",state:TVUB.Home},{name:"Game",state:TVUB.Game},{name:"End",state:TVUB.End}],message:{rule:"Em hãy giúp Hổ Vàng sắp xếp lại vị trí các ô trống để thành câu hoặc phép tính phù hợp. Nếu sai quá 3 lần bài thi sẽ dừng lại."},sound:!0,autoLoad:!0,ready:function(t){e(t),t.off("boot")}})}("#tn-game","",function(t){t.setGameData({title:"Em hãy giúp Hổ Vàng sắp xếp lại vị trí các ô trống để thành câu hoặc phép tính phù hợp. Nếu sai quá 3 lần bài thi sẽ dừng lại.",deception:"Em hãy giúp gà con sắp xếp các giá trị trong ô trống theo thứ tự từ bé đến lớn hoặc trật tự các từ để tạo câu có nghĩa. Nếu sai quá 3 lần bài thi sẽ dừng lại."});t.provide("user",{username:"{{user.name}}",uid:"{{user._id}}",avatar:"/game/HC/assets/images/avatar.png"});var n=function(n,e){for(var a=n.content,i=0;i<a.length;i++)for(var o=0;o<a[i].length;o++)"latex"===a[i][o].type&&(a[i][o].type="image",a[i][o].content="/latex/"+encodeURI(a[i][o].content));t.setGameData(n),e&&"function"==typeof e&&e()};t.on("click.startGame",function(){n(d,function(){t.goState("Game")})}),t.provide("submitAnswer",function(t,n){if("function"==typeof t){var e=p.shift();if(n&&n.length>0){for(var a=!0,i=0;i<n.length&&(a&=e[n[i]]===i);i++);t(a)}else t(!1)}}),t.on("state",function(t){"End"===t.state&&(t.button.hide=!1,t.button.type="dong_y",t.button.callback=function(t){a<3&&(window.location.href="bai-"+(util.parseInt(a)+1)+".html")})}),t.provide("onOverGame",function(t,n,e){"function"==typeof t&&t(n,e),u(n,m.time-e)}),t.on("click.endGame",function(){a<3&&(window.location.href="bai-"+(util.parseInt(a)+1)+".html")})})}else Alert("không có bài thi cho vòng này")}("{{{exam}}}",0,"{{{round_id}}}","{{{test_id}}}",0,0,0,crt);
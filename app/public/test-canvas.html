<canvas id="imageCanvas" width="600" height="800"></canvas>
<script>
var canvas = document.getElementById('imageCanvas');

var image = new Image();
image.src = 'http://static.trangnguyen.edu.vn/uploads/image_game/198.png';
image.crossOrigin = '';
image.onload = function() {
    width=image.width;
    height=image.height;
    var context = canvas.getContext('2d');
    context.fillStyle="#024359"; // canvas background color
    context.fillRect(0, 0, width, height);
    context.drawImage(this,0,0);
    imageData = context.getImageData(0,0,width, height); // PROBLEM HERE
    context.putImageData(imageData, 0, 0);
}
</script>
